import { select } from 'd3-selection';

const paths = {
  // database icon
  data: [
    'M12 1c4.3 0 7.8 1.5 8 3.4v15.1c0 2-3.6 3.5-8 3.5s-8-1.6-8-3.5V4.4C4.2 2.5 7.7 1 12 1zm0 17a14 14 0 01-6-1.2v3a14 14 0 006 1.2 14 14 0 006-1.2v-3a14 14 0 01-6 1.2zm0-5a14 14 0 01-6-1.2v3a14 14 0 006 1.2 14 14 0 006-1.2v-3a14 14 0 01-6 1.2zm0-5a14 14 0 01-6-1.2v3a14 14 0 006 1.2 14 14 0 006-1.2v-3A14 14 0 0112 8zm.3-5H12c-3.3 0-6 .7-6 1.5S8.7 6 12 6s6-.7 6-1.5S15.5 3 12.3 3z'
  ],
  // cogs icon
  task: [
    'M6.05.75L7.857.332a1.236 1.236 0 011.445.792l.039.134.22.95c.789.079 1.557.295 2.271.638l.303.154.714-.666a1.236 1.236 0 011.647-.036l.1.097 1.266 1.357c.432.466.437 1.176.032 1.647l-.093.097-.715.666c.33.722.529 1.496.589 2.286l.017.34.933.284c.61.187.97.801.854 1.413l-.033.131-.542 1.774a1.236 1.236 0 01-1.408.855l-.136-.034-.935-.285a6.755 6.755 0 01-1.682 1.65l-.285.185.221.956a1.236 1.236 0 01-.797 1.448l-.135.038-1.806.417a1.236 1.236 0 01-1.445-.792l-.039-.134-.22-.95a6.863 6.863 0 01-2.273-.636l-.302-.154-.715.665a1.236 1.236 0 01-1.647.035l-.1-.096L1.934 14.2a1.236 1.236 0 01-.035-1.647l.097-.1.715-.667a6.75 6.75 0 01-.588-2.285l-.018-.34-.933-.285A1.236 1.236 0 01.32 7.468l.033-.135.543-1.771a1.236 1.236 0 011.408-.855l.136.034.935.285a6.75 6.75 0 011.682-1.65l.285-.185-.221-.956A1.236 1.236 0 015.914.788L6.05.75zm1.875 4.004a4.333 4.333 0 101.95 8.444 4.333 4.333 0 00-1.95-8.444zm.549 2.375a1.896 1.896 0 11.852 3.694 1.896 1.896 0 01-.852-3.694zM19.02 13.214l1.123.218a.76.76 0 01.615.773l-.013.12-.115.588c.416.237.787.543 1.099.905l.15.185.569-.196a.76.76 0 01.919.362l.048.11.371 1.08a.761.761 0 01-.375.924l-.095.04-.569.196c.004.466-.07.928-.218 1.367l-.098.261.453.394c.29.253.343.677.138.99l-.063.083-.749.862a.76.76 0 01-.976.146l-.097-.071-.454-.395a4.157 4.157 0 01-1.33.502l-.235.038-.116.593a.76.76 0 01-.776.616l-.12-.014-1.12-.218a.76.76 0 01-.615-.773l.013-.119.115-.589a4.223 4.223 0 01-1.073-.874l-.178-.215-.568.195a.76.76 0 01-.92-.362l-.047-.11-.372-1.08a.76.76 0 01.362-.918l.11-.048.57-.196c-.005-.465.07-.927.218-1.366l.098-.26-.453-.395a.76.76 0 01-.147-.977l.071-.097.749-.86a.76.76 0 01.977-.146l.096.071.455.395a4.154 4.154 0 011.33-.501l.235-.038.115-.593a.76.76 0 01.774-.617l.12.014zm.053 2.721a2.667 2.667 0 10-1.017 5.235 2.667 2.667 0 001.017-5.235zm-.286 1.472a1.167 1.167 0 11-.445 2.29 1.167 1.167 0 01.445-2.29z'
  ],
  // sliders icon
  parameters: [
    'M11.2 18a3 3 0 0 0 0 2H3v-2h8.2zm9.8 0v2h-4.2a3 3 0 0 0 0-2H21zM5.2 11a3 3 0 0 0 0 2H3v-2h2.2zM21 11v2H10.8a3 3 0 0 0 0-2H21zm-9-6c0 .4 0 .7.2 1H3V4h9.2a3 3 0 0 0-.2 1zm9-1v2h-3.2a3 3 0 0 0 0-2H21zM14 17a2 2 0 1 1 0 4 2 2 0 0 1 0-4zm-6-7a2 2 0 1 1 0 4 2 2 0 0 1 0-4zm7-7a2 2 0 1 1 0 4 2 2 0 0 1 0-4z'
  ]
};

/**
 * Generate cog/database icon.
 * Inline SVG is required to support image exports
 */
export default node => {
  const svgNode = document.createElementNS('http://www.w3.org/2000/svg', 'svg');

  const svg = select(svgNode)
    .attr('class', 'node__icon')
    .attr('viewBox', '0 0 24 24');

  paths[node.type].forEach(path => {
    svg.append('path').attr('d', path);
  });

  return svgNode;
};
